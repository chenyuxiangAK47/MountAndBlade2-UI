# è§’è‰²åˆ›å»ºç±»å‹è‡ªåŠ¨æœç´¢è„šæœ¬ä½¿ç”¨è¯´æ˜

## å¿«é€Ÿå¼€å§‹

### æ–¹æ³• 1ï¼šç›´æ¥è¿è¡Œæ‰¹å¤„ç†æ–‡ä»¶ï¼ˆæ¨èï¼‰

1. åŒå‡» `è¿è¡Œæœç´¢è„šæœ¬.bat`
2. è„šæœ¬ä¼šè‡ªåŠ¨ç¼–è¯‘å¹¶è¿è¡Œ
3. æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºçš„ç»“æœ

### æ–¹æ³• 2ï¼šæ‰‹åŠ¨ç¼–è¯‘è¿è¡Œ

```powershell
# 1. ç¼–è¯‘
msbuild SearchCharacterCreationTypes.csproj /p:Configuration=Release

# 2. è¿è¡Œ
bin\Release\SearchCharacterCreationTypes.exe
```

## è„šæœ¬åŠŸèƒ½

è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨ï¼š

1. âœ… åŠ è½½ Bannerlord çš„æ ¸å¿ƒ DLLï¼š
   - `TaleWorlds.CampaignSystem.dll`
   - `TaleWorlds.MountAndBlade.GauntletUI.dll`
   - `TaleWorlds.MountAndBlade.dll`
   - `TaleWorlds.Core.dll`

2. âœ… æœç´¢æ‰€æœ‰åŒ…å«ä»¥ä¸‹å…³é”®è¯çš„ç±»å‹ï¼š
   - `CharacterCreation`
   - `CharacterCreationVM`
   - `CharacterCreationState`
   - `CultureSelection`
   - `BackgroundSelection`
   - `ChildhoodSelection`
   - `YouthSelection`

3. âœ… åˆ—å‡ºæ¯ä¸ªç±»å‹çš„ï¼š
   - å®Œæ•´ç±»å‹å
   - åŸºç±»
   - **ç›¸å…³å±æ€§**ï¼ˆåŒ…å« optionã€cultureã€backgroundã€nextã€command ç­‰ï¼‰
   - **ç›¸å…³æ–¹æ³•**ï¼ˆåŒ…å« selectã€executeã€nextã€continue ç­‰ï¼‰
   - **ç›¸å…³å­—æ®µ**ï¼ˆåŒ…å« commandã€actionã€option ç­‰ï¼‰

## è¾“å‡ºç¤ºä¾‹

```
ğŸ“¦ æ­£åœ¨åˆ†æï¼šTaleWorlds.CampaignSystem.dll
--------------------------------------------------------------------------------

ğŸ“ å‘½åç©ºé—´ï¼šTaleWorlds.CampaignSystem.CharacterCreation

  ğŸ”· CharacterCreationVM
     å®Œæ•´åç§°ï¼šTaleWorlds.CampaignSystem.CharacterCreation.CharacterCreationVM
     åŸºç±»ï¼šViewModel
     ğŸ“‹ ç›¸å…³å±æ€§ï¼š
        â€¢ CultureOptions (MBBindingList) [public]
        â€¢ CurrentStage (Int32) [public]
        â€¢ NextCommand (ICommand) [public]
        â€¢ CanAdvance (Boolean) [public]
     ğŸ”§ ç›¸å…³æ–¹æ³•ï¼š
        â€¢ SelectCulture(CultureObject culture) [public]
        â€¢ ExecuteNext() [public]
        â€¢ OnNext() [private]
```

## ä¿®æ”¹æœç´¢è·¯å¾„

å¦‚æœ Bannerlord å®‰è£…åœ¨å…¶ä»–ä½ç½®ï¼Œç¼–è¾‘ `SearchCharacterCreationTypes.cs`ï¼š

```csharp
string bannerlordPath = @"ä½ çš„Bannerlordè·¯å¾„\bin\Win64_Shipping_Client";
```

## å¸¸è§é—®é¢˜

### Q: ç¼–è¯‘å¤±è´¥ï¼Œæç¤ºæ‰¾ä¸åˆ° MSBuild
**A:** éœ€è¦å®‰è£… Visual Studio Build Toolsï¼Œæˆ–è€…ä½¿ç”¨å®Œæ•´è·¯å¾„ï¼š
```powershell
"C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\MSBuild\Current\Bin\MSBuild.exe" SearchCharacterCreationTypes.csproj /p:Configuration=Release
```

### Q: è¿è¡Œæ—¶æç¤ºæ‰¾ä¸åˆ° DLL
**A:** æ£€æŸ¥è„šæœ¬ä¸­çš„ `bannerlordPath` æ˜¯å¦æ­£ç¡®æŒ‡å‘ä½ çš„ Bannerlord å®‰è£…ç›®å½•ã€‚

### Q: æœç´¢ä¸åˆ°ä»»ä½•ç±»å‹
**A:** 
1. ç¡®è®¤ DLL æ–‡ä»¶å­˜åœ¨
2. æ£€æŸ¥ DLL ç‰ˆæœ¬æ˜¯å¦åŒ¹é…ä½ çš„æ¸¸æˆç‰ˆæœ¬
3. å°è¯•æœç´¢å…¶ä»–å…³é”®è¯ï¼ˆç¼–è¾‘è„šæœ¬ä¸­çš„ `keywords` æ•°ç»„ï¼‰

## ä¸‹ä¸€æ­¥

è¿è¡Œè„šæœ¬åï¼ŒæŠŠè¾“å‡ºçš„ç»“æœå‘ç»™æˆ‘ï¼Œæˆ‘ä¼šæ ¹æ®æ‰¾åˆ°çš„ç±»å‹ã€æ–¹æ³•å’Œå±æ€§æ¥æ›´æ–° `QuickStartCharCreationSkipper.cs` çš„ä»£ç ã€‚


